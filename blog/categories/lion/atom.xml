<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: lion | Grenade Sandwich]]></title>
  <link href="http://smerrill.github.io/blog/categories/lion/atom.xml" rel="self"/>
  <link href="http://smerrill.github.io/"/>
  <updated>2014-05-25T11:05:14-04:00</updated>
  <id>http://smerrill.github.io/</id>
  <author>
    <name><![CDATA[Steven W. Merrill]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[A PSA: Lion and .local Domain Names]]></title>
    <link href="http://smerrill.github.io/blog/2011/09/08/psa-lion-and-local-domain-names/"/>
    <updated>2011-09-08T00:00:00-04:00</updated>
    <id>http://smerrill.github.io/blog/2011/09/08/psa-lion-and-local-domain-names</id>
    <content type="html"><![CDATA[<p>Do you enjoy your hair? Would you prefer not to pull it out while waiting for your local Apache server on Mac OS X to deliver a page to you?</p>

<p>If you use Mac OS X Lion and have development sites set up at .local addresses, you should immediately move them to any other fake TLD. The .local address space is resolved for Bonjour and as a result any request to a .local name will not hit /etc/hosts first, but will search for Bonjour hosts first.</p>

<p>I found <a href="http://stackoverflow.com/questions/6841421/mac-osx-lion-dns-lookup-order">this Stack Exchange question</a> on the subject tonight after getting frustrated with <strong>curl</strong> seemingly hanging for several seconds on each request.</p>

<p>Instead, I switched all of my local dev sites from $DOMAIN.local to $DOMAIN.dev. The results are staggering.</p>

<!--more-->


<p>Since switching all my development sites to end in .dev, requests for them happen several orders of magnitude faster, which is a welcome change. Here are two examples of an Apache 404 page (such that the DNS resolution time is the only appreciable time spent in delivering a response to <strong>curl</strong>.)</p>

<p><div class="highlight"><pre><code class="text"> ┌┤smerrill@Tinier-Shinier:6 [Sep 07 23:43:35] ~
 └╼ time curl &lt;a href=&quot;http://whatever.local/&quot;&gt;http://whatever.local/&lt;/a&gt; &gt; /dev/null&lt;/p&gt;

&lt;p&gt;  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;                             Dload  Upload   Total   Spent    Left  Speed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;100    72  100    72    0     0   1217      0 &amp;mdash;:&amp;mdash;:&amp;mdash; &amp;mdash;:&amp;mdash;:&amp;mdash; &amp;mdash;:&amp;mdash;:&amp;mdash;  1250&lt;/p&gt;

&lt;p&gt;real    0m5.011s
user    0m0.006s
sys     0m0.003s&lt;/p&gt;

&lt;p&gt; ┌┤smerrill@Tinier-Shinier:6 [Sep 07 23:43:46] ~
 └╼ time curl &lt;a href=&quot;http://whatever.dev/&quot;&gt;http://whatever.dev/&lt;/a&gt; &gt; /dev/null
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;                             Dload  Upload   Total   Spent    Left  Speed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;100    72  100    72    0     0   1412      0 &amp;mdash;:&amp;mdash;:&amp;mdash; &amp;mdash;:&amp;mdash;:&amp;mdash; &amp;mdash;:&amp;mdash;:&amp;mdash;  1440&lt;/p&gt;

&lt;p&gt;real    0m0.060s
user    0m0.007s
sys     0m0.004s
</code></pre></div></p>

<p>That&rsquo;s right &ndash; the request goes from a lag of almost 5 seconds to finishing in the blink of an eye. A coworker reported his times going from 12 seconds to less than a tenth of a second. It&rsquo;s amazing what a difference such a small change in DNS can make.</p>

<p>I hope this speeds up your local web development!</p>
]]></content>
  </entry>
  
</feed>
